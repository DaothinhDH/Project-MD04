<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/">

<meta http-equiv="content-type" content="text/html;charset=UTF-8"/>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <title>Riode - Ultimate eCommerce Template</title>
    <meta name="keywords" content="HTML5 Template"/>
    <meta name="description" content="Riode - Ultimate eCommerce Template">
    <meta name="author" content="D-THEMES">

    <link rel="icon" type="image/png" href="images/icons/favicon.png">
    <script>
        WebFontConfig = {
            google: {families: ['Poppins:400,500,600,700']}
        };
        (function (d) {
            var wf = d.createElement('script'), s = d.scripts[0];
            wf.src = 'js/webfont.js';
            wf.async = true;
            s.parentNode.insertBefore(wf, s);
        })(document);
    </script>
    <link rel="stylesheet" type="text/css" href="vendor/fontawesome-free/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="vendor/animate/animate.min.css">

    <link rel="stylesheet" type="text/css" href="vendor/magnific-popup/magnific-popup.min.css">
    <link rel="stylesheet" type="text/css" href="vendor/sticky-icon/stickyicon.css">

    <link rel="stylesheet" type="text/css" href="css/style.min.css">
</head>

<body class="home">
<div class="page-wrapper">
    <h1 class="d-none">Riode - Responsive eCommerce HTML Template</h1>
    <!--header-->
    <th:block th:insert="layouts/header.html"></th:block>


    <main class="main cart">
        <div class="page-content pt-7 pb-10">
            <div class="step-by pr-4 pl-4">
                <h3 class="title title-simple title-step active"><a href="cart.html">1. Shopping Cart</a></h3>
                <h3 class="title title-simple title-step"><a href="checkout.html">2. Checkout</a></h3>
                <h3 class="title title-simple title-step"><a href="order.html">3. Order Complete</a></h3>
            </div>
            <form id="form1" th:action="@{/checkout}" method="post">
                <div class="container mt-7 mb-2">
                    <div class="row">

                        <div class="col-lg-8 col-md-12 pr-lg-4">
                            <table class="shop-table cart-table">
                                <thead>
                                <tr>
                                    <th><span>Product</span></th>
                                    <th></th>
                                    <th><span>Price</span></th>
                                    <th><span>quantity</span></th>
                                    <th>Subtotal</th>
                                    <th style="width: 30px;">*</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr th:each="item: ${cartItems}">
                                    <td class="product-thumbnail">
                                        <figure>
                                            <a href="product-simple.html">
                                                <img th:src="${item.product.image}" width="100" height="100"
                                                     alt="product">
                                            </a>
                                        </figure>
                                    </td>
                                    <td class="product-name">
                                        <div class="product-name-section">
                                            <a href="product-simple.html" th:text="${item.product.productName}"></a>
                                        </div>
                                    </td>

                                    <td class="product-subtotal">
                                    <span class="amount"
                                          th:text="${#numbers.formatCurrency(item.product.price)}"></span>
                                    </td>
                                    <td class="product-quantity">
                                        <div class="input-group">
                                            <button class="quantity-minus d-icon-minus"></button>
                                            <input th:value="${item.quantity}" class=" form-control">
                                            <button class="quantity-plus d-icon-plus"></button>
                                        </div>
                                    </td>
                                    <td class="product-price">
                                    <span class="amount"
                                          th:text="${#numbers.formatCurrency(item.quantity * item.product.price)}"></span>
                                    </td>
                                    <td>
                                        <a class="btn btn-warning" th:href="@{/deleteCart/{id}(id=${item.product.productId})}"><span>&#215;</span></a>
                                    </td>
                                </tr>

                                </tbody>
                            </table>
                            <div class="cart-actions mb-6 pt-4">
                                <a th:href="@{/}"
                                   class="btn btn-dark btn-md btn-rounded btn-icon-left mr-4 mb-4"><i
                                        class="d-icon-arrow-left"></i>Continue Shopping</a>
                            </div>

                        </div>

                            <aside class="col-lg-4 sticky-sidebar-wrapper">
                                <div class="sticky-sidebar" data-sticky-options="{'bottom': 20}">
                                    <div class="summary mb-4">
                                        <h3 class="summary-title text-left">Cart Totals</h3>
                                        <div class="shipping-address">
                                        </div>
                                        <table class="total">
                                            <tr class="summary-subtotal">
                                                <td>
                                                    <h4 class="summary-subtitle">Total</h4>
                                                </td>
                                                <td>
                                                    <p class="summary-total-price ls-s"  th:text="${#numbers.formatCurrency(total)}"></p>
                                                </td>
                                            </tr>
                                        </table>
                                        <a href="/checkout"  class="btn btn-rounded btn-checkout">Proceed to checkout
                                        </a>
                                    </div>
                                </div>
                            </aside>


                    </div>
                </div>
            </form>
        </div>
    </main>
    <!--footer-->
    <th:block th:insert="layouts/footer.html"></th:block>
</div>

<a id="scroll-top" href="#top" title="Top" role="button" class="scroll-top"><i class="d-icon-arrow-up"></i></a>

<!--scrip-->
<th:block th:insert="layouts/script.html"></th:block>
</body>